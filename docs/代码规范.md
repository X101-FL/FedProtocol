## IDE：

* Pycharm

## 代码规范：

* 缩进、空格、行宽等，使用Pycharm默认格式。代码格式化快捷键：Ctrl + Alt + L
* 引号：
  1. 自然语言：使用双引号 "..."，如log.info("fdjsklajfldjskl")日志
  1. 机器标识：使用单引号 '...'，如dict里的key
  1. 正则表达式：使用原生的双引号 r"..."
* 字符串拼接：尽量用：
  ```python
  value1 = ...
  value2 = ...
  s = f"xxx : {value1}, yyy : {value2}"
  ```
* 注解、git commit用中文；日志、异常用英文

## 代码原则：

* 尽量不要出现sys.path.append("xxx/xxx")，凡是出现的地方，基本上都可以通过Pycharm：Mark Directory as -> Sources root 或者 export PYTHONPATH=xxx/xxx 来避免
* 尽量不要写重复的代码，代码的设计上，尽量做到一改全改
* 要写不容易犯错的代码，尽量做到明显没有错误，而不是没有明显的错误
* 如果和别人合作，尽量不要写炫技的代码（除非忍不住）
* 尽量不要写一行很长的代码
* 一个函数尽量只做一件事情，代码量上不应超过半个屏幕（大概20行以内）
* 一个函数尽量不要有副作用（全局变量尽量是只读的）
* 目前只需要关键的地方写注释即可（目前代码变动较快），代码本身就应该是注释
* 老旧代码最好直接删掉
* 在一个长表达式中，少依赖符号的优先级，多用括号来表达优先级

## 命名规范：

* 模块名、函数名：小写 + 下划线
* 类名：驼峰写法
* 变量名：
  * 局部变量：尽量小写 + 下划线
  * 全局常量：大写 + 下划线
* 私有类、函数、变量：下划线开头（注意单下划线和双下划线的区别）

## 命名原则：

* 词能达义，尽量不要有无意义的成分，可以长一点
* 区分明显（apple，apples->apple_list）
* 前后一致
* 尽量不要英文 + 汉语拼音
* 尽量不要使用编号（v1,v2,v3）,使用名字代替编号
* 如果变量名不再合适，要尽快修改（Pycharm修改变量快捷键：Shift + F6）

## 可能遇到的坑：

* 变量的Hash值在每次重启Python进程后可能发生变化，如果需要固定Hash值，需要在启动Python进程前声明环境变量：export PYTHONHASHSEED=421234，在Python进程内部使用os.environ来设置PYTHONHASHSEED变量是没用的
* 判断相等时，尽量使用 “a == b” 而不是 “a is b”：
  ```python
  a = 1; a is 1 # return True
  a = 2333; a is 2333 # return False
  ```

